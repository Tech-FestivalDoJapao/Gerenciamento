<!DOCTYPE html>
<html lang="pt-br" data-bs-theme="auto">

<head>
    <title>Gerenciador do Festival do Japão</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sistema de gerenciamento de voluntários e recursos para o Festival do Japão.">
    <meta name="keywords" content="Festival do Japão, Voluntários, Gerenciamento">

    <link rel="shortcut icon" href="./img/image.png" type="image/x-icon">
    <link rel="icon" href="./img/image.png" type="image/x-icon">

    <script src="./main.js"></script>
    <script src="./color-modes.js"></script>
</head>

<body>
    <div class="container py-3 px-3 mx-auto">
        <header id="header"
            class="d-flex justify-content-between align-items-md-center pb-3 mb-5 border-bottom border-danger border-5">
            <h1 class="h4">
                <a href="#" class="d-flex align-items-center link-body-emphasis text-decoration-none">
                    <span>Festival do Japão</span>
                </a>
            </h1>

            <!-- Theme chooser -->
            <div>
                <button class="btn btn-bd-primary py-2 dropdown-toggle d-flex align-items-center" id="bd-theme"
                    type="button" aria-expanded="false" data-bs-toggle="dropdown" aria-label="Toggle theme (auto)">
                    <svg class="bi my-1 theme-icon-active" width="1em" height="1em">
                        <use href="#circle-half"></use>
                    </svg>
                    <span class="visually-hidden" id="bd-theme-text"></span>
                </button>
                <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="bd-theme-text">
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center"
                            data-bs-theme-value="light" aria-pressed="false">
                            <svg class="bi me-2 opacity-50" width="1em" height="1em">
                                <use href="#sun-fill"></use>
                            </svg>
                            Light
                            <svg class="bi ms-auto d-none" width="1em" height="1em">
                                <use href="#check2"></use>
                            </svg>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark"
                            aria-pressed="false">
                            <svg class="bi me-2 opacity-50" width="1em" height="1em">
                                <use href="#moon-stars-fill"></use>
                            </svg>
                            Dark
                            <svg class="bi ms-auto d-none" width="1em" height="1em">
                                <use href="#check2"></use>
                            </svg>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center active"
                            data-bs-theme-value="auto" aria-pressed="true">
                            <svg class="bi me-2 opacity-50" width="1em" height="1em">
                                <use href="#circle-half"></use>
                            </svg>
                            Auto
                            <svg class="bi ms-auto d-none" width="1em" height="1em">
                                <use href="#check2"></use>
                            </svg>
                        </button>
                    </li>
                </ul>
            </div>
        </header>

        <!-- Conteúdo do site -->
        <div id="main" class="align-items-md-center pb-3 mb-5">
            <!-- Home -->
            <main class="align-items-md-center pb-3 mb-5">
                <section id="titulo" class="text-center mb-5">
                    <h1>Seja Voluntário</h1>
                    <p class="fs-4">Ficha de Inscrição para Voluntários da 25ª edição do Festival do Japão</p>
                </section>

                <!-- Form de cadastro de voluntário -->
                <section id="cadastro_voluntario">
                    <div class="modal-body row align-items-center">
                        <div class="col"></div>
                        <form class="row col-md-10 col-sm-12 g-3" id="cadastroDeVoluntario">
                            <!-- Dados pessoais -->
                            <div class="row mb-4 col-12">
                                <section class="mb-4">
                                    <p class="fs-5">
                                        <strong class="mb-3">Dados Pessoais</strong>
                                        <hr class="mt-1 mb-4 border-bottom border-danger ">
                                    </p>

                                    <div class="row mb-2">
                                        <div class="col-md-8 mt-1">
                                            <label for="nomeCompletoDoVoluntario" class="form-label">Nome
                                                completo</label>
                                            <input type="text" class="form-control" id="nomeCompletoDoVoluntario">
                                        </div>
                                        <div class="col-md-4 mt-1">
                                            <label for="cpfDoVoluntario" class="form-label">CPF</label>
                                            <input type="text" class="form-control" id="cpfDoVoluntario" size="14"
                                                placeholder="000.000.000-00">
                                        </div>
                                    </div>
                                    <div class="row mb-2">
                                        <div class="col-md-8 mt-1">
                                            <label for="emailDoVoluntario" class="form-label">E-mail</label>
                                            <input type="email" class="form-control" id="emailDoVoluntario">
                                        </div>
                                        <div class="col-md-4 mt-1 mb-1">
                                            <label for="telefoneDoVoluntario" class="form-label">Telefone</label>
                                            <input type="phone" class="form-control" id="telefoneDoVoluntario" size="14"
                                                placeholder="+55 (00) 00000-0000">
                                        </div>
                                    </div>
                                    <div class="row mb-2">
                                        <div class="col-md-4 mt-1">
                                            <label for="sexoDoVoluntario" class="form-label">Sexo</label>
                                            <div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="sexoDoVoluntario"
                                                        id="sexoFeminino" value="F">
                                                    <label class="form-check-label" for="sexoFeminino">Feminino</label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="sexoDoVoluntario"
                                                        id="sexoMasculino" value="M">
                                                    <label class="form-check-label"
                                                        for="sexoMasculino">Masculino</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-8 mt-1">
                                            <label for="faixaEtariaDoVoluntario" class="form-label">
                                                Faixa etária <br>
                                                <spam class="align-middle mb-2">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                        fill="currentColor" class="bi bi-info-circle-fill opacity-75"
                                                        viewBox="0 0 16 16">
                                                        <path
                                                            d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2" />
                                                    </svg>
                                                    <small class="opacity-75">A idade minima para ajudar como voluntário
                                                        é de 16 anos de idade
                                                    </small>
                                                </spam>
                                            </label>
                                            <div class="col-md-4">
                                                <select class="form-select" id="faixaEtariaDoVoluntario"
                                                    aria-label="Default select example">
                                                    <option selected hidden>Selecione...</option>
                                                    <option value="16-">Abaixo de 16 anos</option>
                                                    <option value="16-20">De 16 a 20 anos</option>
                                                    <option value="21-30">De 21 a 30 anos</option>
                                                    <option value="31-40">De 31 a 40 anos</option>
                                                    <option value="41-50">De 41 a 50 anos</option>
                                                    <option value="51-60">De 51 a 60 anos</option>
                                                    <option value="60+">Acima de 60 anos</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </section>

                                <section class="mb-4 mt-4">
                                    <p class="fs-5">
                                        <strong class="mb-3">Endereço</strong>
                                        <hr class="mt-1 mb-4 border-bottom border-danger">
                                    </p>

                                    <div class="row mb-2">
                                        <div class="col-md-4 mt-1 mb-1">
                                            <label for="cepDoVoluntario" class="form-label">CEP</label>
                                            <input type="text" class="form-control" id="cepDoVoluntario" size="10"
                                                placeholder="00000-000" maxlength="9"
                                                onblur="pesquisaEnderecoPorCEP(this.value);">
                                        </div>
                                        <div class="col-md-8 mt-1">
                                            <label for="enderecoDoVoluntario" class="form-label">
                                                Endereco completo
                                                <small class="opacity-75">(nome da rua, número, bloco, apto)</small>
                                            </label>
                                            <input type="text" class="form-control" id="enderecoDoVoluntario">
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-5 mt-1">
                                            <label for="bairroDoVoluntario" class="form-label">Bairro</label>
                                            <input type="text" class="form-control" id="bairroDoVoluntario" disabled>
                                        </div>
                                        <div class="col-md-5 mt-1">
                                            <label for="cidadeDoVoluntario" class="form-label">Cidade</label>
                                            <input type="text" class="form-control" id="cidadeDoVoluntario" disabled>
                                        </div>
                                        <div class="col-md-2 mt-1">
                                            <label for="estadoDoVoluntario" class="form-label">Estado</label>
                                            <input type="text" class="form-control" id="estadoDoVoluntario" size="2"
                                                disabled>
                                        </div>
                                    </div>
                                </section>

                                <section class="mb-4 mt-4">
                                    <p>
                                        <strong class="fs-5 mb-3">Contato de Emergência</strong><br>
                                        <spam class="align-middle mb-2">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor" class="bi bi-info-circle-fill opacity-75"
                                                viewBox="0 0 16 16">
                                                <path
                                                    d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2" />
                                            </svg>
                                            <small class="opacity-75">Esta informação será utilizada para contato, em
                                                caso de emergência</small>
                                        </spam>
                                        <hr class="mt-1 mb-4 border-bottom border-danger ">
                                    </p>

                                    <div class="row mb-2">
                                        <div class="col-md-6 mt-1">
                                            <label for="nomeContatoEmergenciaDoVoluntario"
                                                class="form-label">Nome</label>
                                            <input type="name" class="form-control"
                                                id="nomeContatoEmergenciaDoVoluntario">
                                        </div>
                                        <div class="col-md-6 my-1">
                                            <label for="telefoneContatoEmergenciaDoVoluntario"
                                                class="form-label">Telefone</label>
                                            <input type="phone" class="form-control"
                                                id="telefoneContatoEmergenciaDoVoluntario" size="14"
                                                placeholder="+55 (00) 00000-0000">
                                        </div>
                                    </div>
                                </section>

                                <section class="mb-4 mt-4">
                                    <p class="fs-5">
                                        <strong class="mb-3">Descendência Japonesa</strong>
                                        <hr class="mt-1 mb-4 border-bottom border-danger ">
                                    </p>

                                    <div class="mb-2">
                                        <div class="col-md-6 mt-1 mb-2">
                                            <label for="descendenciaJaponesa" class="form-label">Você é descendente de
                                                japoneses?</label>
                                            <div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio"
                                                        name="possuiDescendenciaJaponesa" id="descendenteSim"
                                                        value="Sim">
                                                    <label class="form-check-label" for="descendenteSim">Sim</label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio"
                                                        name="possuiDescendenciaJaponesa" id="descendenteNao"
                                                        value="Nao">
                                                    <label class="form-check-label" for="descendenteNao">Não</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 mt-1" id="VoluntarioDescendente">
                                            <label for="ascendenciaDoVoluntarioDescendente"
                                                class="form-label">Ascendência</label>
                                            <select class="form-select" id="ascendenciaDoVoluntarioDescendente"
                                                aria-label="Default select example">
                                                <option selected hidden>Selecione...</option>
                                                <option value="1">Issei (Japonês)</option>
                                                <option value="2">Nissei (2ª Geração)</option>
                                                <option value="3">Sansei (3ª Geração)</option>
                                                <option value="4">Yonsei (4ª Geração)</option>
                                                <option value="5">Gosei (5ª Geração)</option>
                                                <option value="6">Não se aplca</option>
                                            </select>
                                        </div>
                                    </div>
                                </section>

                                <section class="mb-4 mt-4">
                                    <p class="fs-5">
                                        <strong class="mb-3">Escolaridade</strong>
                                        <hr class="mt-1 mb-4 border-bottom border-danger ">
                                    </p>

                                    <div class="row mb-2">
                                        <div class="col-md-6">
                                            <label for="ascendenciaDoVoluntarioDescendente"
                                                class="form-label">Escolaridade</label>
                                            <select class="form-select" id="ascendenciaDoVoluntarioDescendente"
                                                aria-label="Default select example">
                                                <option selected hidden>Selecione...</option>
                                                <option value="1">Pós-graduação completo</option>
                                                <option value="2">Superior completo</option>
                                                <option value="3">Superior incompleto</option>
                                                <option value="4">Ensino Médio completo</option>
                                                <option value="5">Ensino Médio incompleto</option>
                                                <option value="6">Fundamental II completo</option>
                                                <option value="7">Fundamental II incompleto</option>
                                                <option value="8">Fundamental I completo</option>
                                                <option value="9">Fundamental I incompleto</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6 mt-1">
                                            <label for="estudante" class="form-label">Está estudando atualmente</label>
                                            <div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="estudante"
                                                        id="estudaSim" value="Sim">
                                                    <label class="form-check-label" for="estudaSim">Sim</label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="estudante"
                                                        id="estudaNao" value="Nao">
                                                    <label class="form-check-label" for="estudaNao">Não</label>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-6 mt-1">
                                            <label for="telefoneContatoDoVoluntario" class="form-label">Idiomas</label>
                                            <div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="checkbox"
                                                        id="idiomaVoluntarioJapones" value="Japones">
                                                    <label class="form-check-label"
                                                        for="idiomaVoluntarioJapones">Japonês</label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="checkbox"
                                                        id="idiomaVoluntarioIngles" value="Ingles">
                                                    <label class="form-check-label"
                                                        for="idiomaVoluntarioIngles">Inglês</label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="checkbox"
                                                        id="idiomaVoluntarioEspanhol" value="Espanhol">
                                                    <label class="form-check-label"
                                                        for="idiomaVoluntarioEspanhol">Espanhol</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 mt-1">
                                            <label for="nomeContatoDoVoluntario" class="form-label">Conhecimento em
                                                LIBRAS</label>
                                            <div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio"
                                                        name="conhecimentoLibras" id="conhecimentoLibrasSim"
                                                        value="Sim">
                                                    <label class="form-check-label"
                                                        for="conhecimentoLibrasSim">Sim</label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio"
                                                        name="conhecimentoLibras" id="conhecimentoLibrasNao"
                                                        value="Nao">
                                                    <label class="form-check-label"
                                                        for="conhecimentoLibrasNao">Não</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </section>

                                <section class="mb-4 mt-4" hidden>
                                    <p class="fs-5">
                                        <strong class="mb-3">Trabalho</strong>
                                        <hr class="mt-1 mb-4 border-bottom border-danger ">
                                    </p>

                                    <div class="mb-2">

                                    </div>
                                </section>

                                <section class="mb-4 mt-4" hidden>
                                    <p class="fs-5">
                                        <strong class="mb-3">Voluntariado</strong>
                                        <hr class="mt-1 mb-4 border-bottom border-danger ">
                                    </p>

                                    <div class="mb-2">

                                    </div>
                                </section>
                            </div>

                            <div class="d-grid gap-2 col-6 mx-auto">
                                <button class="btn btn-danger" type="submit">Enviar Ficha de Inscrição</button>
                            </div>
                        </form>
                        <div class="col-1"></div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <footer id="footer" class="container navbar-fixed-bottom">
        <hr class="mt-5 mb-4 border-bottom border-danger">

        <p class="text-muted">
            © 2024 FJ Tech
        </p>
    </footer>

    <!-- Consumindo a API ViaCEP para tratativa de endereços -->
    <script>
        //Limpa valores do formulário de cep.
        function limpaFormEnderecos() {
            document.getElementById('enderecoDoVoluntario').value = ("");
            document.getElementById('bairroDoVoluntario').value = ("");
            document.getElementById('cidadeDoVoluntario').value = ("");
            document.getElementById('estadoDoVoluntario').value = ("");
        }
        // Atualiza os campos com os valores.
        function respostaAPI(conteudo) {
            if (!("erro" in conteudo)) {
                document.getElementById('enderecoDoVoluntario').value = (conteudo.logradouro);
                document.getElementById('bairroDoVoluntario').value = (conteudo.bairro);
                document.getElementById('cidadeDoVoluntario').value = (conteudo.localidade);
                document.getElementById('estadoDoVoluntario').value = (conteudo.uf);
            } else {
                limpaFormEnderecos();
                alert("Não foi possível encontrar o endereço informado.");
            }
        }
        // Função para pesquisar o CEP.
        function pesquisaEnderecoPorCEP(valor) {
            var cep = valor.replace(/\D/g, '');
            // Verifica se campo cep possui valor informado.
            if (cep != "") {
                var validacep = /^[0-9]{8}$/;   // Regex para validar o CEP.
                // Valida o formato do CEP.
                if (validacep.test(cep)) {
                    // Preenche os campos com "..." enquanto consulta webservice.
                    document.getElementById('enderecoDoVoluntario').value = "...";
                    document.getElementById('bairroDoVoluntario').value = "...";
                    document.getElementById('cidadeDoVoluntario').value = "...";
                    document.getElementById('estadoDoVoluntario').value = "...";
                    // Cria um elemento javascript.
                    var script = document.createElement('script');
                    // Sincroniza com o callback.
                    script.src = 'https://viacep.com.br/ws/' + cep + '/json/?callback=respostaAPI';
                    // Insere script no documento e carrega o conteúdo.
                    document.body.appendChild(script);
                } else {
                    limpaFormEnderecos();
                    alert("O CEP informado está em um formato inválido. Tente novamente");
                }
            } else {
                limpaFormEnderecos();
            }
        };
    </script>

    <script>
        // Pega os valores enviados pelo formulário na página de 
        document.getElementById("cadastroDeVoluntario").addEventListener("submit", async (event) => {
            event.preventDefault();

            const nomeVoluntario = document.getElementById("nomeCompletoDoVoluntario").value;
            const emailVoluntario = document.getElementById("emailDoVoluntario").value;

            const response = await fetch("/adicionarVoluntario", {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ nomeVoluntario, emailVoluntario })
            });

            if (response.ok) {
                alert("Voluntário adicionado com sucesso");
                console.log(nomeVoluntario);
            } else {
                alert("Desculpe!\nNão foi possível cadastrar o voluntário.");
                console.log(nomeVoluntario + "\n" + response);
            }
        });
    </script>

    <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
        <symbol id="check2" viewBox="0 0 16 16">
            <path
                d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z" />
        </symbol>
        <symbol id="circle-half" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
        </symbol>
        <symbol id="moon-stars-fill" viewBox="0 0 16 16">
            <path
                d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z" />
            <path
                d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z" />
        </symbol>
        <symbol id="sun-fill" viewBox="0 0 16 16">
            <path
                d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z" />
        </symbol>
    </svg>
</body>

</html>
